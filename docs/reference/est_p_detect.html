<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Estimate the probability of detection — est_p_detect • artemis</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Estimate the probability of detection — est_p_detect" />
<meta property="og:description" content="Estimate the probability of detection" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">artemis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.11.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/artemis-installation-guide.html">ARTEMIS Installation Guide</a>
    </li>
    <li>
      <a href="../articles/artemis-overview.html">Getting started with the artemis package</a>
    </li>
    <li>
      <a href="../articles/modeling.html">Modeling eDNA qPCR Data with `artemis`</a>
    </li>
    <li>
      <a href="../articles/simulation.html">Simulating eDNA Data with `artemis`</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Estimate the probability of detection</h1>
    
    <div class="hidden name"><code>est_p_detect.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Estimate the probability of detection</p>
    </div>

    <pre class="usage"><span class='fu'>est_p_detect</span>(
  <span class='no'>variable_levels</span>,
  <span class='no'>betas</span>,
  <span class='no'>Cq_sd</span>,
  <span class='no'>std_curve_alpha</span>,
  <span class='no'>std_curve_beta</span>,
  <span class='kw'>n_rep</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>12</span>,
  <span class='kw'>model_fit</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>upper_Cq</span> <span class='kw'>=</span> <span class='fl'>40</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>variable_levels</th>
      <td><p>numeric vector, with each element
corresponding to the condition to estimate the probability of
detection.</p></td>
    </tr>
    <tr>
      <th>betas</th>
      <td><p>numeric vector, the effect sizes for each of the
variable level</p></td>
    </tr>
    <tr>
      <th>Cq_sd</th>
      <td><p>numeric, the measurement error on CQ. If a model_fit
is provided and this is missing, the estimated sd(CQ) from the
model will be used.</p></td>
    </tr>
    <tr>
      <th>std_curve_alpha</th>
      <td><p>the alpha for the std. curve formula for
conversion between log(concentration) and CQ</p></td>
    </tr>
    <tr>
      <th>std_curve_beta</th>
      <td><p>the alpha for the std. curve formula for
conversion between log(concentration) and CQ</p></td>
    </tr>
    <tr>
      <th>n_rep</th>
      <td><p>the number of replicate measurements at the levels
specified</p></td>
    </tr>
    <tr>
      <th>model_fit</th>
      <td><p>optional, a model fit from <code>eDNA_lm</code> or
<code>eDNA_lmer</code>.  If this is provided, an estimate derived
from the posterior estimates of beta is calculated.</p></td>
    </tr>
    <tr>
      <th>upper_Cq</th>
      <td><p>the upper limit on detection</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>object of class "eDNA_p_detect" with the estimates of the
    probability of detection for the variable levels provided.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function estimates the probability of getting a positive
detection for an eDNA survey given a set of predictors. This can
be useful when trying to take the estimates from a preliminary
study and use those estimates to inform the deployment of future
sampling schemes. The function assumes that you have either an
idea of the effects of the various predictors, for example from a
previous study, or a fit model with estimates of the effect sizes.</p>
<p>This function takes one circumstance at a time, and calculates the
range of outcomes given a number of repeated sampling
attempts. The probability calculated is the probability of getting
at least one positive detection. For details on the underlying
model and assumptions for this calculation, please refer to the
package vignette.</p>
    <h2 class="hasAnchor" id="notes-on-random-effects"><a class="anchor" href="#notes-on-random-effects"></a>Notes on random effects</h2>

    


<p>This function deals with random effects in two different
ways. First, when we desire to see the probability of detection
for a specific instance of a random effect, users can specify the
random effect as just another effect by specifying the random
effect = 1 in the variable list, and then the size of the random
effect. However, when users wish to estimate the probability of
detection in cases where random effects are generated from a
distribution of random effects, this can be accomplished by adding
the standard deviation of the random effect to the
<code>Cq_sd</code>. This takes advantage of the fact that random effects
are just another source of variation, and that sum of random
normal distributions is itself a random normal distribution.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>est_p_detect</span>(<span class='kw'>variable_levels</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='kw'>Intercept</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>Distance</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>Volume</span> <span class='kw'>=</span> <span class='fl'>20</span>),
             <span class='kw'>betas</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='kw'>Intercept</span> <span class='kw'>=</span> -<span class='fl'>10.5</span>, <span class='kw'>Distance</span> <span class='kw'>=</span> -<span class='fl'>0.05</span>, <span class='kw'>Volume</span> <span class='kw'>=</span> <span class='fl'>0.001</span>),
             <span class='kw'>Cq_sd</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>std_curve_alpha</span> <span class='kw'>=</span> <span class='fl'>21.2</span>, <span class='kw'>std_curve_beta</span> <span class='kw'>=</span> -<span class='fl'>1.5</span>,
             <span class='kw'>n_rep</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>12</span>)</div><div class='output co'>#&gt; Variable levels: 
#&gt; Intercept  Distance    Volume 
#&gt;         1       100        20 
#&gt; 
#&gt;    n_reps     p_detect
#&gt; 1       1 4.935045e-06
#&gt; 2       2 9.870066e-06
#&gt; 3       3 1.480506e-05
#&gt; 4       4 1.974003e-05
#&gt; 5       5 2.467498e-05
#&gt; 6       6 2.960991e-05
#&gt; 7       7 3.454480e-05
#&gt; 8       8 3.947968e-05
#&gt; 9       9 4.441453e-05
#&gt; 10     10 4.934935e-05
#&gt; 11     11 5.428416e-05
#&gt; 12     12 5.921893e-05</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Myfanwy Johnston, Matt Espe.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


